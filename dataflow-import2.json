{
  "name": "mqtt-to-evh-002",
  "dataflowProfileName": "default",
  "properties": {
    "mode": "Enabled",
    "requestDiskPersistence": "Disabled",
    "operations": [
      {
        "operationType": "Source",
        "sourceSettings": {
          "endpointRef": "default",
          "serializationFormat": "Json",
          "dataSources": [
            "gripple/#"
          ]
        },
        "destinationSettings": null
      },
      {
        "operationType": "BuiltInTransformation",
        "sourceSettings": null,
        "destinationSettings": null,
        "builtInTransformationSettings": {
          "serializationFormat": "Json",
          "datasets": [],
          "filter": [],
          "map": [
            {
              "type": "PassThrough",
              "inputs": [
                "*"
              ],
              "output": "*"
            },
            {
              "type": "Compute",
              "description": "Asset",
              "inputs": [
                "$metadata.topic"
              ],
              "expression": "$1",
              "output": "asset"
            },
            {
              "type": "Compute",
              "description": "FullMessageString",
              "inputs": [
                "$metadata.topic"
              ],
              "expression": "\"Asset:\" + $1 + \" {\" ",
              "output": "MessageString"
            }
          ]
        }
      },
      {
        "operationType": "Destination",
        "sourceSettings": null,
        "destinationSettings": {
          "endpointRef": "evhns-azriotops-prod-weu-001",
          "dataDestination": "evh-azriotops-prod-weu-002"
        }
      }
    ],
    "provisioningState": "Accepted"
  },
  "type": "microsoft.iotoperations/instances/dataflowprofiles/dataflows",
  "extendedLocation": {
    "name": "/subscriptions/017815e9-7831-43c3-9c50-c852d60246b3/resourceGroups/rg-azureiotops-prod/providers/Microsoft.ExtendedLocation/customLocations/vm-azriotops-prod-uks-001-k3s-cl-5136",
    "type": "CustomLocation"
  }
}